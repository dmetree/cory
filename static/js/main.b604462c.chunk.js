(this.webpackJsonpcoryphaena=this.webpackJsonpcoryphaena||[]).push([[0],{28:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},55:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var r=c(3),a=c.n(r),n=c(40),s=c.n(n),i=c(6),o=c.n(i),l=c(19),u=c(10),d=c(4),j=c(13),b=c(23),O=(c(51),c(52),c(53),b.a.initializeApp({apiKey:"AIzaSyB2pdc-IlMUOgaKKvwD6TA03LcI-umpzMA",authDomain:"coryphaena-42180.firebaseapp.com",projectId:"coryphaena-42180",storageBucket:"coryphaena-42180.appspot.com",messagingSenderId:"938825463401",appId:"1:938825463401:web:fb8d27ffa360725e0a14f8"})),f=b.a.auth(),h=O.database(),m=b.a.storage(),p=(b.a.firestore(),c(2)),x=a.a.createContext();function v(){return Object(r.useContext)(x)}function g(e){var t=e.children,c=Object(r.useState)(),a=Object(d.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(null),b=Object(d.a)(i,2),O=b[0],h=b[1],m=Object(r.useState)(!0),v=Object(d.a)(m,2),g=v[0],N=v[1],y=Object(r.useState)(),k=Object(d.a)(y,2),w=k[0],C=k[1],_=Object(r.useState)([]),A=Object(d.a)(_,2),S=A[0],I=A[1],E=Object(r.useState)(),q=Object(d.a)(E,2),R=q[0],P=q[1],D=Object(r.useState)(0),U=Object(d.a)(D,2),G=U[0],M=U[1],B=Object(r.useState)(0),F=Object(d.a)(B,2),J=F[0],L=F[1],V=Object(r.useState)(0),X=Object(d.a)(V,2),T=X[0],Q=X[1],Y=Object(r.useState)(null),z=Object(d.a)(Y,2),W=z[0],H=z[1];function K(){return(K=Object(u.a)(o.a.mark((function e(t,c,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.a.auth().createUserWithEmailAndPassword(t,c).then((function(e){return j.a.firestore().collection("users").doc(e.user.uid).set({firstname:r,email:t,phone:a,user_role:"user",created_at:j.a.firestore.Timestamp.now()}).catch((function(e){console.log("Error while creating user "+e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.a.firestore().collection("users").doc(j.a.auth().currentUser.uid).get().then((function(e){var t=e.data();return h(t),t.email=j.a.auth().currentUser.email,t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.firestore().collection("goods").doc(w).get().then((function(e){var t=e.data();P(t)})).catch((function(e){console.log("Error getting documents",e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Item updated!");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.firestore().collection("goods").doc(t).delete().catch((function(e){console.error(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("creating order!"),t=JSON.parse(JSON.stringify(S));try{N(!0),j.a.firestore().collection("orders").add({total_price:G,total_weight:J,status:1,cart:t,created_at:j.a.firestore.Timestamp.now()}),I([])}catch(c){console.log("Failed to create new order")}N(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(u.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.signInWithEmailAndPassword(t,c));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.signOut());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.sendPasswordResetEmail(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.updateEmail(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.updatePassword(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){var e=0;S.forEach((function(t){e+=t.price*t.quantity})),M(e)}),[S]),Object(r.useEffect)((function(){var e=0;S.forEach((function(t){e+=t.weight*t.quantity})),L(e)}),[S]),Object(r.useEffect)((function(){var e=0;S.forEach((function(t){e+=t.quantity})),Q(e)}),[S]),Object(r.useEffect)((function(){return f.onAuthStateChanged((function(e){s(e),N(!1)}))}),[]);var oe={currentUser:n,userInfo:O,setUserInfo:h,getProfile:function(){return Z.apply(this,arguments)},login:function(e,t){return re.apply(this,arguments)},signup:function(e,t,c,r){return K.apply(this,arguments)},logout:function(){return ae.apply(this,arguments)},resetPassword:function(e){return ne.apply(this,arguments)},updateEmail:function(e){return se.apply(this,arguments)},updatePassword:function(e){return ie.apply(this,arguments)},goodiId:w,setGoodiId:C,cart:S,setCart:I,goodiInfo:R,setGoodiInfo:P,url:W,setUrl:H,goodsToCart:function(e,t,c,r,a){var n=function(){I([].concat(Object(l.a)(S),[{id:e,title:t,weight:c,price:r,url:a,quantity:1}]))};if(S.length>0){var s=0;S.forEach((function(t){t.id===e&&(t.quantity=t.quantity+1,s=1)}));var i=Object(l.a)(S);I(i),s<1&&n()}else n()},getCatalogueItemInfo:function(){return $.apply(this,arguments)},updateCatalogueItem:function(e){return ee.apply(this,arguments)},deleteCatalogueItem:function(e){return te.apply(this,arguments)},createOrder:function(){return ce.apply(this,arguments)},addQuantity:function(e){S.forEach((function(t){t.id===e&&(t.quantity=t.quantity+1)}));var t=Object(l.a)(S);I(t)},minusQuantity:function(e){S.forEach((function(t){t.id===e&&(t.quantity<1?t.quantity=0:t.quantity=t.quantity-1)}));var t=Object(l.a)(S);I(t)},deleteCartItem:function(e){var t=S.filter((function(t){return t.id!==e}));I(t)},totalPrice:G,totalWeight:J,totalNumber:T};return Object(p.jsx)(x.Provider,{value:oe,children:!g&&t})}var N=c(7),y=c(12);c(55);function k(){var e=v().signup,t=Object(r.useState)(""),c=Object(d.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)(!1),i=Object(d.a)(s,2),l=i[0],j=i[1],b=Object(y.g)(),O=Object(r.useRef)(),f=Object(r.useRef)(),h=Object(r.useRef)(),m=Object(r.useRef)(),x=Object(r.useRef)();function g(){return(g=Object(u.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),m.current.value===x.current.value){t.next=3;break}return t.abrupt("return",n("Passwords do not match"));case 3:return t.prev=3,n(""),j(!0),t.next=8,e(f.current.value,m.current.value,O.current.value,h.current.value);case 8:b.push("/dashboard"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),n("Failed to create an account");case 14:j(!1);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))).apply(this,arguments)}return Object(p.jsx)("div",{className:"page",children:Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsx)("div",{className:"h1",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),a&&Object(p.jsx)("div",{children:a}),Object(p.jsxs)("form",{className:"form",onSubmit:function(e){return g.apply(this,arguments)},children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"text",placeholder:"Name",name:"name",ref:O,required:!0})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",ref:f,required:!0})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"tel",placeholder:"Phone Number",name:"phone",ref:h,required:!0})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"password",placeholder:"Password",name:"password",ref:m,required:!0})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"password2",ref:x,required:!0})}),Object(p.jsx)("input",{type:"submit",disabled:l,className:"submitBtn",value:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),Object(p.jsxs)("div",{className:"confirmation",children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? ",Object(p.jsx)(N.b,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})}c(63);function w(){var e=v().login,t=Object(r.useState)(""),c=Object(d.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)(!1),i=Object(d.a)(s,2),l=i[0],j=i[1],b=Object(y.g)(),O=Object(r.useRef)(),f=Object(r.useRef)();function h(){return(h=Object(u.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,n(""),j(!0),t.next=6,e(O.current.value,f.current.value);case 6:b.push("/orders"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n("Failed to log in");case 12:j(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return Object(p.jsxs)("div",{className:"login",children:[Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsxs)("div",{className:"form_text",children:["\u0423 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?",Object(p.jsx)("br",{}),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0439\u0442\u0438:"]}),a&&Object(p.jsx)("div",{children:a}),Object(p.jsxs)("form",{className:"form",onSubmit:function(e){return h.apply(this,arguments)},children:[Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",ref:O,required:!0})}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsx)("input",{type:"password",placeholder:"Password",name:"password",ref:f,required:!0})}),Object(p.jsx)("input",{type:"submit",disabled:l,className:"submitBtn",value:"\u0412\u043e\u0439\u0442\u0438"})]})]}),Object(p.jsx)("div",{className:"",children:Object(p.jsx)(N.b,{to:"/signup",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(p.jsx)(N.b,{to:"/forgot-password",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]})}var C=function(){return Object(p.jsx)("div",{children:"Notifications"})},_=function(e){var t=Object(r.useState)(0),c=Object(d.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)(null),i=Object(d.a)(s,2),l=i[0],j=i[1],b=v(),O=b.url,f=b.setUrl;return Object(r.useEffect)((function(){var t=m.ref(e.name);t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;n(t)}),(function(e){j(e)}),Object(u.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,f(c);case 4:case"end":return e.stop()}}),e)}))))}),[e]),{progress:a,url:O,error:l}};c(37),c(38);var A=function(e){var t=e.file,c=e.setFile,a=(e.currentFile,_(t)),n=a.progress,s=a.url;return Object(r.useEffect)((function(){s&&c(null)}),[s,c]),Object(p.jsxs)("div",{className:"add-item progressBar",children:[n,"%"]})};function S(){var e=Object(y.g)(),t=v().url,c=Object(r.useState)(""),a=Object(d.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(!1),b=Object(d.a)(i,2),O=b[0],f=b[1],h=Object(r.useState)(null),m=Object(d.a)(h,2),x=m[0],g=m[1],N=Object(r.useState)(!0),k=Object(d.a)(N,2),w=k[0],C=k[1],_=Object(r.useState)([]),S=Object(d.a)(_,2),I=S[0],E=S[1],q=Object(r.useState)(!1),R=Object(d.a)(q,2),P=R[0],D=R[1],U=Object(r.useState)(!1),G=Object(d.a)(U,2),M=G[0],B=G[1],F=Object(r.useState)(!1),J=Object(d.a)(F,2),L=J[0],V=J[1],X=Object(r.useState)(!1),T=Object(d.a)(X,2),Q=T[0],Y=T[1],z=Object(r.useState)(!1),W=Object(d.a)(z,2),H=W[0],K=W[1],Z=Object(r.useState)(!1),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ce=Object(r.useState)(!1),re=Object(d.a)(ce,2),ae=re[0],ne=re[1],se=Object(r.useState)(!1),ie=Object(d.a)(se,2),oe=ie[0],le=ie[1],ue=Object(r.useState)(!1),de=Object(d.a)(ue,2),je=de[0],be=de[1],Oe=Object(r.useRef)(),fe=Object(r.useRef)(),he=Object(r.useRef)(),me=Object(r.useRef)(),pe=Object(r.useRef)(),xe=Object(r.useRef)();function ve(){return(ve=Object(u.a)(o.a.mark((function c(r){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:r.preventDefault();try{f(!0),j.a.firestore().collection("goods").add({title:Oe.current.value,weight:fe.current.value,price:he.current.value,category:I,position:me.current.value,details:pe.current.value,video:xe.current.value,url:t,in_stock:w,created_at:j.a.firestore.Timestamp.now()}),e.push("/")}catch(a){s("Failed to create a request")}f(!1);case 3:case"end":return c.stop()}}),c)})))).apply(this,arguments)}var ge=["image/png","image/jpeg"],Ne=function(e){var t=0;I.length>0?(I.forEach((function(c){c==e&&(t+=1,E(I.filter((function(t){return t!==e}))))})),t<1&&(E((function(t){return[].concat(Object(l.a)(t),[e])})),t-=1)):E((function(t){return[].concat(Object(l.a)(t),[e])}))};return Object(p.jsx)("div",{className:"page",children:Object(p.jsx)("div",{className:"form wrapper add-item",children:Object(p.jsxs)("form",{className:"form__form",onSubmit:function(e){return ve.apply(this,arguments)},children:[Object(p.jsxs)("label",{className:"form-group add-image",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Object(p.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&ge.includes(t.type)?(g(t),s("")):(g(null),s("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f (png/jpeg)"))},className:"form__input visibility-hidden"}),Object(p.jsx)("span",{children:"+"})]}),x&&Object(p.jsx)("div",{children:x.name}),x&&Object(p.jsx)(A,{file:x,setFile:g}),Object(p.jsx)("div",{children:n&&Object(p.jsx)("div",{children:n})}),Object(p.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",Object(p.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"title",ref:Oe,required:!0})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0442\u043e\u0432\u0430\u0440\u0430 (\u0432 \u0433\u0440\u0430\u043c\u043c\u0430\u0445)",Object(p.jsx)("input",{type:"number",placeholder:"\u0412\u0435\u0441",name:"weight",ref:fe})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443 \u0442\u043e\u0432\u0430\u0440\u0430",Object(p.jsx)("input",{type:"number",placeholder:"\u0426\u0435\u043d\u0430",name:"price",ref:he})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043e\u0434\u043d\u0443 / \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0442\u043e\u0432\u0430\u0440\u0430:",Object(p.jsxs)("div",{className:"category-grid",children:[Object(p.jsx)("div",{onClick:function(){return D(!P),void Ne("fish")},style:P?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item fish",children:"\u0420\u044b\u0431\u0430"}),Object(p.jsx)("div",{onClick:function(){return B(!M),void Ne("meat")},style:M?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item meat",children:"\u041c\u044f\u0441\u043e"}),Object(p.jsx)("div",{onClick:function(){return V(!L),void Ne("smoke")},style:L?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item smoke",children:"\u041a\u043e\u043f\u0447\u0435\u043d\u043e\u0441\u0442\u044c"}),Object(p.jsx)("div",{onClick:function(){return Y(!Q),void Ne("salt")},style:Q?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item salt",children:"\u0421\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(p.jsx)("div",{onClick:function(){return K(!H),void Ne("lsalt")},style:H?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item light-salt",children:"\u0421\u043b\u0430\u0431\u043e\u0441\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(p.jsx)("div",{onClick:function(){return te(!ee),void Ne("seafood")},style:ee?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item seafood",children:"\u041c\u043e\u0440\u0435\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"}),Object(p.jsx)("div",{onClick:function(){return ne(!ae),void Ne("caviar")},style:ae?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item caviar",children:"\u0418\u043a\u0440\u0430"}),Object(p.jsx)("div",{onClick:function(){return le(!oe),void Ne("dryfruit")},style:oe?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item dry-fruits",children:"\u0421\u0443\u0445\u043e\u0444\u0440\u0443\u043a\u0442\u044b"}),Object(p.jsx)("div",{onClick:function(){return be(!je),void Ne("delica")},style:je?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item delica",children:"\u0414\u0435\u043b\u0438\u043a\u0430\u0442\u0435\u0441\u044b"})]})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u0442\u043e\u0432\u0430\u0440\u0430",Object(p.jsx)("input",{type:"",placeholder:"\u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u0437\u0443/\u0432\u0432\u0435\u0440\u0445\u0443 \u0441\u043f\u0438\u0441\u043a\u0430",name:"position",ref:me,required:!0})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",Object(p.jsx)("textarea",{type:"text",rows:"9",cols:"50",placeholder:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"order",ref:pe,required:!0})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e \u043e \u0442\u043e\u0432\u0430\u0440\u0435",Object(p.jsx)("input",{type:"text",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e",name:"video",ref:xe})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0415\u0441\u0442\u044c \u043b\u0438 \u0442\u043e\u0432\u0430\u0440 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0435?",Object(p.jsxs)("div",{className:"question",children:[Object(p.jsx)("div",{className:"optionbtn yes",onClick:function(){C(!0)},children:"\u0414\u0430"}),w?Object(p.jsx)("div",{className:"instock yes",children:"\u0422\u043e\u0432\u0430\u0440 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u0442\u0441\u044f"}):Object(p.jsx)("div",{className:"instock no",children:"\u0422\u043e\u0432\u0430\u0440 \u0441\u043a\u0440\u044b\u0442"}),Object(p.jsx)("div",{className:"optionbtn no",onClick:function(){C(!1)},children:"\u041d\u0435\u0442"})]})]}),Object(p.jsx)("button",{className:"add-item__button",type:"submit",disabled:O,value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433"})]})})})}var I=function(){var e=Object(y.g)(),t=v(),c=t.goodiId,a=t.goodiInfo,n=t.url,s=t.setUrl,i=["image/png","image/jpeg"],b=Object(r.useState)(""),O=Object(d.a)(b,2),f=O[0],h=O[1],m=Object(r.useState)(!1),x=Object(d.a)(m,2),g=x[0],N=(x[1],Object(r.useState)(null)),k=Object(d.a)(N,2),w=k[0],C=k[1],_=Object(r.useState)(!0),S=Object(d.a)(_,2),I=S[0],E=S[1],q=Object(r.useState)([]),R=Object(d.a)(q,2),P=R[0],D=R[1],U=Object(r.useState)(!1),G=Object(d.a)(U,2),M=G[0],B=G[1],F=Object(r.useState)(!1),J=Object(d.a)(F,2),L=J[0],V=J[1],X=Object(r.useState)(!1),T=Object(d.a)(X,2),Q=T[0],Y=T[1],z=Object(r.useState)(!1),W=Object(d.a)(z,2),H=W[0],K=W[1],Z=Object(r.useState)(!1),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ce=Object(r.useState)(!1),re=Object(d.a)(ce,2),ae=re[0],ne=re[1],se=Object(r.useState)(!1),ie=Object(d.a)(se,2),oe=ie[0],le=ie[1],ue=Object(r.useState)(!1),de=Object(d.a)(ue,2),je=de[0],be=de[1],Oe=Object(r.useState)(!1),fe=Object(d.a)(Oe,2),he=fe[0],me=fe[1],pe=Object(r.useRef)(),xe=Object(r.useRef)(),ve=Object(r.useRef)(),ge=Object(r.useRef)(),Ne=Object(r.useRef)(),ye=Object(r.useRef)();function ke(){return(ke=Object(u.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),console.log("Updating!"),j.a.firestore().collection("goods").doc(c).update({title:pe.current.value,weight:xe.current.value,price:ve.current.value,category:P,position:ge.current.value,details:Ne.current.value,video:ye.current.value,url:n,in_stock:I}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)})),e.push("/goodi/:id");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){s(a.url),E(a.in_stock),a.category&&a.category.forEach((function(e){"fish"===e&&Ce(),"meat"===e&&_e(),"smoke"===e&&Ae(),"salt"===e&&Se(),"lsalt"===e&&Ie(),"seafood"===e&&Ee(),"dryfruit"===e&&qe(),"delica"===e&&Re()}))}),[]);var we=function(e){var t=0;P.length>0?(P.forEach((function(c){c==e&&(t+=1,D(P.filter((function(t){return t!==e}))))})),t<1&&(D((function(t){return[].concat(Object(l.a)(t),[e])})),t-=1)):D((function(t){return[].concat(Object(l.a)(t),[e])}))},Ce=function(){B(!M),we("fish")},_e=function(){V(!L),we("meat")},Ae=function(){Y(!Q),we("smoke")},Se=function(){K(!H),we("salt")},Ie=function(){te(!ee),we("lsalt")},Ee=function(){ne(!ae),we("seafood")},qe=function(){be(!je),we("dryfruit")},Re=function(){me(!he),we("delica")};return Object(p.jsx)("div",{className:"form",children:Object(p.jsxs)("form",{className:"form__form",onSubmit:function(e){return ke.apply(this,arguments)},children:[Object(p.jsxs)("div",{className:"form__imgFrame",children:[Object(p.jsx)("img",{className:"form__imagebox",src:a.url,alt:"Goodi image"}),Object(p.jsxs)("label",{className:"form-group add-image",children:["\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Object(p.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&i.includes(t.type)?(C(t),h("")):(C(null),h("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f (png/jpeg)"))},className:"form__input visibility-hidden"}),Object(p.jsx)("span",{children:"+"})]})]}),w&&Object(p.jsx)("div",{children:w.name}),w&&Object(p.jsx)(A,{file:w,setFile:C}),Object(p.jsx)("div",{children:f&&Object(p.jsx)("div",{children:f})}),Object(p.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",Object(p.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",ref:pe,required:!0,defaultValue:a.title})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0442\u043e\u0432\u0430\u0440\u0430 (\u0432 \u0433\u0440\u0430\u043c\u043c\u0430\u0445)",Object(p.jsx)("input",{type:"number",placeholder:"\u0412\u0435\u0441",ref:xe,defaultValue:a.weight})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443 \u0442\u043e\u0432\u0430\u0440\u0430",Object(p.jsx)("input",{type:"number",placeholder:"\u0426\u0435\u043d\u0430",ref:ve,defaultValue:a.price})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043e\u0434\u043d\u0443 / \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0442\u043e\u0432\u0430\u0440\u0430:",Object(p.jsxs)("div",{className:"category-grid",children:[Object(p.jsx)("div",{onClick:function(){return Ce()},style:M?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item fish",children:"\u0420\u044b\u0431\u0430"}),Object(p.jsx)("div",{onClick:function(){return _e()},style:L?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item meat",children:"\u041c\u044f\u0441\u043e"}),Object(p.jsx)("div",{onClick:function(){return Ae()},style:Q?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item smoke",children:"\u041a\u043e\u043f\u0447\u0435\u043d\u043e\u0441\u0442\u044c"}),Object(p.jsx)("div",{onClick:function(){return Se()},style:H?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item salt",children:"\u0421\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(p.jsx)("div",{onClick:function(){return Ie()},style:ee?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item light-salt",children:"\u0421\u043b\u0430\u0431\u043e\u0441\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(p.jsx)("div",{onClick:function(){return Ee()},style:ae?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item seafood",children:"\u041c\u043e\u0440\u0435\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"}),Object(p.jsx)("div",{onClick:function(){return le(!oe),void we("caviar")},style:oe?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item caviar",children:"\u0418\u043a\u0440\u0430"}),Object(p.jsx)("div",{onClick:function(){return qe()},style:je?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item dry-fruits",children:"\u0421\u0443\u0445\u043e\u0444\u0440\u0443\u043a\u0442\u044b"}),Object(p.jsx)("div",{onClick:function(){return Re()},style:he?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item delica",children:"\u0414\u0435\u043b\u0438\u043a\u0430\u0442\u0435\u0441\u044b"})]})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u0442\u043e\u0432\u0430\u0440\u0430",Object(p.jsx)("input",{type:"",placeholder:"\u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u0437\u0443/\u0432\u0432\u0435\u0440\u0445\u0443 \u0441\u043f\u0438\u0441\u043a\u0430",ref:ge,required:!0,defaultValue:a.position})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",Object(p.jsx)("textarea",{type:"text",rows:"9",cols:"50",placeholder:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",ref:Ne,required:!0,defaultValue:a.details})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e \u043e \u0442\u043e\u0432\u0430\u0440\u0435",Object(p.jsx)("input",{type:"text",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e",name:"video",ref:ye,defaultValue:a.video})]}),Object(p.jsxs)("label",{className:"form-group",children:["\u0415\u0441\u0442\u044c \u043b\u0438 \u0442\u043e\u0432\u0430\u0440 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0435?",Object(p.jsxs)("div",{className:"question",children:[Object(p.jsx)("div",{className:"optionbtn yes",onClick:function(){E(!0)},children:"\u0414\u0430"}),I?Object(p.jsx)("div",{className:"instock yes",children:"\u0422\u043e\u0432\u0430\u0440 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u0442\u0441\u044f"}):Object(p.jsx)("div",{className:"instock no",children:"\u0422\u043e\u0432\u0430\u0440 \u0441\u043a\u0440\u044b\u0442"}),Object(p.jsx)("div",{className:"optionbtn no",onClick:function(){E(!1)},children:"\u041d\u0435\u0442"})]})]}),Object(p.jsx)("input",{type:"submit",disabled:g,className:"submitBtn",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})})},E=c(20);c(28);var q=function(e){var t=e.title,c=e.weight,r=e.price,a=e.url,n=e.in_stock,s=e.goodiToCart,i=e.goodiDetails;return Object(p.jsxs)("div",{className:"catalog__wrapper",style:n?{}:{backgroundColor:"rgb(255, 187, 187)"},children:[Object(p.jsxs)("div",{className:"catalog__info",onClick:i,children:[Object(p.jsx)("div",{className:"catalog__imgFrame",children:Object(p.jsx)("img",{className:"catalog__imagebox",src:a,alt:"Goodi image"})}),Object(p.jsxs)("div",{className:"catalog__infoFrame",children:[Object(p.jsxs)("div",{className:"catalog__name",children:[t," "]}),Object(p.jsxs)("div",{className:"catalog__weight",children:[c," \u0433"]}),Object(p.jsxs)("div",{className:"catalog__price",children:[r," \u0440\u0443\u0431"]})]})]}),Object(p.jsx)("div",{className:"catalog__buttons",children:Object(p.jsx)("button",{onClick:s,className:"add-to-cart",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})})]})},R=(c(64),c(26));var P=function(e){var t=Object(r.useState)(!1),c=Object(d.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)(!1),j=Object(d.a)(u,2),b=j[0],O=j[1],f=Object(r.useState)(!1),h=Object(d.a)(f,2),m=h[0],x=h[1],v=Object(r.useState)(!1),g=Object(d.a)(v,2),N=g[0],y=g[1],k=Object(r.useState)(!1),w=Object(d.a)(k,2),C=w[0],_=w[1],A=Object(r.useState)(!1),S=Object(d.a)(A,2),I=S[0],E=S[1],q=Object(r.useState)(!1),P=Object(d.a)(q,2),D=P[0],U=P[1],G=Object(r.useState)(!1),M=Object(d.a)(G,2),B=M[0],F=M[1],J=Object(r.useState)(!1),L=Object(d.a)(J,2),V=L[0],X=L[1],T=Object(r.useState)("\u0421\u043a\u0440\u044b\u0442\u044c"),Q=Object(d.a)(T,2),Y=Q[0],z=Q[1];return Object(p.jsx)("div",{className:"catalogue-filters",children:Object(p.jsxs)("div",{id:"hidefilters",className:"category-grid",children:[Object(p.jsx)("div",{onClick:function(){V?V&&(R.a.to("#hidefilters",.2,{x:0,y:0}),z("\u0421\u043a\u0440\u044b\u0442\u044c"),X(!V)):(R.a.to("#hidefilters",.2,{x:"-67vw",y:"18.4vh"}),z("\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),X(!V))},className:"grid-item hideFilter",children:Y}),Object(p.jsx)("div",{onClick:function(){e.showAllGoods()},className:"grid-item allGoods",children:"\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"}),Object(p.jsx)("div",{onClick:function(){return n(!a),void e.handleFish()},className:"grid-item fish",children:"\u0420\u044b\u0431\u0430"}),Object(p.jsx)("div",{onClick:function(){return l(!o),void e.handleMeat()},className:"grid-item meat",children:"\u041c\u044f\u0441\u043e"}),Object(p.jsx)("div",{onClick:function(){return O(!b),void e.handleSmoke()},className:"grid-item smoke",children:"\u041a\u043e\u043f\u0447\u0435\u043d\u043e\u0441\u0442\u044c"}),Object(p.jsx)("div",{onClick:function(){return x(!m),void e.handleSalt()},className:"grid-item salt",children:"\u0421\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(p.jsx)("div",{onClick:function(){return y(!N),void e.handleLsalt()},className:"grid-item light-salt",children:"\u0421\u043b\u0430\u0431\u043e\u0441\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(p.jsx)("div",{onClick:function(){return _(!C),void e.handleSeafood()},className:"grid-item seafood",children:"\u041c\u043e\u0440\u0435\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"}),Object(p.jsx)("div",{onClick:function(){return E(!I),void e.handleCaviar()},className:"grid-item caviar",children:"\u0418\u043a\u0440\u0430"}),Object(p.jsx)("div",{onClick:function(){return U(!D),void e.handleDryfruits()},className:"grid-item dry-fruits",children:"\u0421\u0443\u0445\u043e\u0444\u0440\u0443\u043a\u0442\u044b"}),Object(p.jsx)("div",{onClick:function(){return F(!B),void e.handleDelica()},className:"grid-item delica",children:"\u0414\u0435\u043b\u0438\u043a\u0430\u0442\u0435\u0441\u044b"})]})})};var D=function(e){var t=e.goodsList,c=Object(y.g)(),a=v(),n=a.setGoodiId,s=a.goodsToCart,i=(a.currentUser,a.userInfo,Object(r.useState)([])),o=Object(d.a)(i,2),l=o[0],u=o[1];function j(e){u(t.filter((function(t){return t.category.includes(e)})))}Object(r.useEffect)((function(){u(t)}),[t]);var b=l.map((function(e){return Object(p.jsx)(q,{goodiToCart:function(){return s(e.id,e.title,e.weight,e.price,e.url)},goodiDetails:function(){return t=e.id,n(t),void c.push("goodi/".concat(t));var t},title:e.title,weight:e.weight,price:e.price,url:e.url,in_stock:e.in_stock},e.id)}));return Object(p.jsxs)("div",{className:"catalog",children:[Object(p.jsx)(P,{handleFish:function(){return j("fish")},handleMeat:function(){return j("meat")},handleSmoke:function(){return j("smoke")},handleSalt:function(){return j("salt")},handleLsalt:function(){return j("lsalt")},handleSeafood:function(){return j("seafood")},handleCaviar:function(){return j("caviar")},handleDryfruits:function(){return j("dryfruit")},handleDelica:function(){return j("delica")},showAllGoods:function(){u(t)}}),Object(p.jsx)("h2",{className:"catalog__goods-title",children:"\u0422\u043e\u0432\u0430\u0440\u044b"}),Object(p.jsx)("div",{className:"catalog__item-wrap",children:b||"Loading..."})]})};var U=function(e){var t=e.goodsList,c=Object(y.g)(),a=v(),n=a.setGoodiId,s=a.goodsToCart,i=(a.currentUser,a.userInfo,Object(r.useState)([])),o=Object(d.a)(i,2),l=o[0],u=o[1],j=t.filter((function(e){return!0===e.in_stock}));function b(e){u(j.filter((function(t){return t.category.includes(e)})))}Object(r.useEffect)((function(){j&&u(j)}),[t]);var O=l.map((function(e){return Object(p.jsx)(q,{goodiToCart:function(){return s(e.id,e.title,e.weight,e.price,e.url)},goodiDetails:function(){return t=e.id,n(t),void c.push("goodi/".concat(t));var t},title:e.title,weight:e.weight,price:e.price,url:e.url,in_stock:e.in_stock},e.id)}));return Object(p.jsxs)("div",{className:"catalog",children:[Object(p.jsx)(P,{handleFish:function(){return b("fish")},handleMeat:function(){return b("meat")},handleSmoke:function(){return b("smoke")},handleSalt:function(){return b("salt")},handleLsalt:function(){return b("lsalt")},handleSeafood:function(){return b("seafood")},handleCaviar:function(){return b("caviar")},handleDryfruits:function(){return b("dryfruit")},handleDelica:function(){return b("delica")},showAllGoods:function(){u(j)}}),Object(p.jsx)("h2",{className:"catalog__goods-title",children:"\u0422\u043e\u0432\u0430\u0440\u044b"}),Object(p.jsx)("div",{className:"catalog__item-wrap",children:O||"Loading..."})]})};var G=function(){Object(y.g)();var e=v(),t=e.currentUser,c=e.userInfo,a=Object(r.useState)([]),n=Object(d.a)(a,2),s=n[0],i=n[1];Object(r.useEffect)((function(){h&&j.a.firestore().collection("goods").limit(50).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(E.a)(Object(E.a)({},e.data()),{},{id:e.id})}));i(t)}))}),[h]);var o=Object(p.jsx)(U,{goodsList:s});return t&&c&&"admin"===c.user_role&&(o=Object(p.jsx)(D,{goodsList:s})),Object(p.jsx)("div",{className:"catalog",children:o})};function M(){return Object(p.jsx)("div",{className:"page",children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)(G,{})})})}var B=c(43);function F(e){var t=e.component,c=Object(B.a)(e,["component"]),r=v().currentUser;return Object(p.jsx)(y.b,Object(E.a)(Object(E.a)({},c),{},{render:function(e){return r?Object(p.jsx)(t,Object(E.a)({},e)):Object(p.jsx)(y.a,{to:"/"})}}))}function J(){var e=Object(r.useRef)(),t=v().resetPassword,c=Object(r.useState)(""),a=Object(d.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(""),l=Object(d.a)(i,2),j=l[0],b=l[1],O=Object(r.useState)(!1),f=Object(d.a)(O,2),h=f[0],m=f[1];function x(){return(x=Object(u.a)(o.a.mark((function c(r){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.prev=1,b(""),s(""),m(!0),c.next=7,t(e.current.value);case 7:b("Check your inbox for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),s("Failed to reset password");case 13:m(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(p.jsxs)("div",{children:[Object(p.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),n&&Object(p.jsx)("div",{children:n}),j&&Object(p.jsx)("div",{children:j}),Object(p.jsxs)("form",{className:"",onSubmit:function(e){return x.apply(this,arguments)},children:[Object(p.jsx)("div",{className:"",children:Object(p.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",ref:e,required:!0})}),Object(p.jsx)("button",{disabled:h,className:"",type:"submit",children:"Reset Password"})]}),Object(p.jsx)("div",{className:"",children:Object(p.jsx)(N.b,{to:"/login",children:"Login"})}),Object(p.jsxs)("div",{className:"",children:["Want a new account? ",Object(p.jsx)(N.b,{to:"/signup",children:"Sign Up"})]})]})}c(65);function L(){var e=Object(r.useRef)(),t=Object(r.useRef)(),c=Object(r.useRef)(),a=Object(r.useRef)(),n=v(),s=n.currentUser,i=n.updatePassword,o=n.updateEmail,l=n.userInfo,u=(n.getProfile,Object(r.useState)("")),j=Object(d.a)(u,2),b=j[0],O=j[1],f=Object(r.useState)(!1),h=Object(d.a)(f,2),m=h[0],x=h[1],g=Object(y.g)(),k=Object(r.useState)({firstname:"",email:"",phone:"",user_role:""}),w=Object(d.a)(k,2),C=w[0],_=w[1];return Object(r.useEffect)((function(){_(Object(E.a)(Object(E.a)({},C),{},{firstname:l.firstname,email:l.email,phone:l.phone,user_role:l.user_role}))}),[l]),Object(p.jsxs)("div",{className:"page",children:[Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsxs)("div",{children:[Object(p.jsxs)("h2",{className:"text-center mb-4",children:["Hi, ",C.firstname]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"Phone:"})," ",C.phone]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"Email:"})," ",C.email]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("strong",{children:"Role:"})," ",C.user_role]})]}),b&&Object(p.jsx)("div",{children:b}),Object(p.jsxs)("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),c.current.value!==a.current.value)return O("Passwords do not match");var r=[];x(!0),O(""),t.current.value!==s.email&&r.push(o(t.current.value)),c.current.value&&r.push(i(c.current.value)),Promise.all(r).then((function(){g.push("/dashboard")})).catch((function(){O("Failed to update account")})).finally((function(){x(!1)}))},children:[Object(p.jsx)("label",{className:"form-group",children:Object(p.jsx)("input",{type:"text",placeholder:"Name",ref:e,required:!0,defaultValue:C.firstname})}),Object(p.jsx)("label",{className:"form-group",children:Object(p.jsx)("input",{type:"email",ref:t,required:!0,defaultValue:s.email})}),Object(p.jsx)("label",{className:"form-group",children:Object(p.jsx)("input",{type:"password",ref:c,placeholder:"Leave blank to keep the same"})}),Object(p.jsx)("label",{className:"form-group",children:Object(p.jsx)("input",{type:"password",ref:a,placeholder:"Leave blank to keep the same"})}),Object(p.jsx)("input",{type:"submit",disabled:m,className:"submitBtn",value:"Update Account"})]})]}),Object(p.jsx)("div",{className:"confirmation",children:Object(p.jsx)(N.b,{to:"/dashboard",children:"Cancel"})})]})}var V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADeklEQVR42u2aW4hNYRTHj8MgSUrJtSb3McYREqVJjZAHvJgpSV7cpxlEEeUSNXnAi5CMpDjNjGlQQx5cHpQHkXgYpSGXGeZKLqHGtr5au/52Z59z9jlnr2+f2d9X/6ez91nr++1vf2t9a+2IZVmRMCtiABgABoABYAAYAAaAAWAAGAD/qZx02IPW9TcADZa38ZE0IMwA1JjanwDMJi1NQ80AYHMYN8G5AOBqGAEMJPUygPZ83Ady8Sc3YBWoaLA4wJrhB4BdVv6M/X4AmJNHAIr8ABAl9bCB76SaAOkCTL7Fz1S4KRlljdoAftX4CaAaDG0PEIBG8GuhnwBiYKguIJMfRvrJPrXxq+obAPXn3WysIyD5wCp4KGcljsO43IoDAKAW/FkuAaAKDFZqnvwgUhf78pU0WAJACQBo0AygFHy5JlURigL1LrdNR0gnAUC5ZEnsOhgu0TR5tQG3sg+/SSMkAVQCgCpNADAkN0sXRWeB8UZNAA6BD5ukAajl18nGuzXtA8/Y/l/SGB1l8Xp4AjHhyReC7Ue6+gI7wImdwgDwTLJXF4CZ4ESTMID7XqvUfoWhDnail+uGEpMfRepjuy91t8bqHDvxEgFdApvHdAPYprn0NV83gCKNk3/v5TjuZzr6iR36RTrOy1JCFUFpj8fhqcwL4/cBWwHAHdIBrtIM9cHWNK5FHuFcIKYbgAp9J1ze0U6ODLkom00k3XSx8zBRJ0gCQIEjHXYb57KEoA5en1PY+MbFEVEA+OSVgwdJK0greTP8Ar/vztCGOuO/hf9RGeBGUhn3J7FfqZKxCVIApkA2pooSYxNcMxkyRXXtG9Jrj+qBCZ52WUl74JrLUgCOgtG1aRZOshkq1A5JEopfQGVouASA2+DcyBS7tj1+kD54UDvcG/dQG1wkAeABGCxIct04uK4+g9fMHhc9rMgyCQC1aRZDlqVqWiaRyiP+8L2PPTRrCiUArAaDV1w2J1Umu5tqaabQLbi/NMl5xAb1XGoTVAnQU0dPbrQjcYk7MsRM7Czgmp/FEaGCu0E2YBV234GdNZJ5wHRolNrFyVZH3LZPbeOzsLMvQdLTAh9t2eOMjlS4mJ1xG0/c3kmPJ85qDnGJRh8nXlFdhyEVn7eQ7nG8buMlvx6Way40iXSKy2CqJfeKdD7dzpT5WtwAMAAMAAPAADAAwqt/D4MKMjuXoCkAAAAASUVORK5CYII=",X=c.p+"static/media/cory.c8cae190.png",T=c.p+"static/media/user.4870410b.svg";c(66);var Q=function(){var e=v(),t=e.logout,c=e.currentUser,a=e.totalNumber,n=e.getProfile,s=e.userInfo,i=Object(y.g)(),l=Object(r.useState)(""),j=Object(d.a)(l,2),b=j[0],O=j[1],f=Object(r.useState)(!1),m=Object(d.a)(f,2),x=m[0],g=m[1];function k(){return(k=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(""),e.prev=1,e.next=4,t();case 4:i.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),O("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){c&&n()}),[h]),Object(r.useEffect)((function(){R.a.timeline({repeat:-1}).to("#logo-cory",2,{x:10,scale:.95,skewY:5,skewX:10,rotateY:10}).to("#logo-cory",2,{x:0,scale:1,skewY:-5,skewX:0,rotateY:0}).to("#logo-cory",2,{x:0,scale:1,skewY:0})}),[]),Object(p.jsx)("div",{className:"nav",children:Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsx)(N.b,{to:"/",children:Object(p.jsx)("img",{src:X,id:"logo-cory",alt:"Coryphaena"})}),c?Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"menuItems",children:[s&&"admin"===s.user_role&&Object(p.jsx)(N.b,{to:"/additem",className:"navItem add-to-catalog",children:"+ \u0422\u043e\u0432\u0430\u0440"}),Object(p.jsx)(N.b,{to:"/cart",className:"navItem cart-pic",children:Object(p.jsxs)("div",{className:"menu__basket",children:[Object(p.jsx)("img",{src:V,alt:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(p.jsx)("span",{children:a})]})}),Object(p.jsx)("div",{onClick:function(){return g(!x)},className:"menuIcon",children:Object(p.jsx)("img",{src:T,alt:""})}),x?Object(p.jsxs)("div",{className:"dMenuItems",onClick:function(){return g(!1)},children:[Object(p.jsx)(N.b,{to:"/profile",className:"menuItem",children:"Profile"}),Object(p.jsx)(N.b,{to:"/notifications",className:"menuItem",children:"Notifications"}),Object(p.jsx)(N.b,{to:"/wallet",className:"menuItem",children:"Wallet"}),Object(p.jsx)(N.b,{to:"/orders",className:"menuItem",children:"Orders"}),Object(p.jsx)(N.b,{to:"",className:"menuItem",onClick:function(){return k.apply(this,arguments)},children:"Log Out"}),b&&Object(p.jsx)("div",{children:b})]}):null]})}):Object(p.jsxs)("div",{className:"menuItems",children:[Object(p.jsx)(N.b,{to:"/cart",className:"navItem cart-pic",children:Object(p.jsxs)("div",{className:"menu__basket",children:[Object(p.jsx)("img",{src:V,alt:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(p.jsx)("span",{children:a})]})}),Object(p.jsx)(N.b,{to:"/login",className:"navItem",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})};c(67);var Y=function(){return Object(p.jsx)("div",{className:"page social",children:Object(p.jsxs)("div",{className:"wrapper",children:[Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Telegram"}),Object(p.jsx)("h3",{children:"Post"}),Object(p.jsx)("h3",{children:"Post"}),Object(p.jsx)("h3",{children:"Post"})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)("h1",{children:"Instagram"}),Object(p.jsx)("h3",{children:"Post"}),Object(p.jsx)("h3",{children:"Post"}),Object(p.jsx)("h3",{children:"Post"})]})]})})};c(39);var z=function(e){var t=e.title,c=e.weight,r=e.price,a=e.quantity,n=e.addQuantity,s=e.minusQuantity,i=e.deleteCartItem;return Object(p.jsxs)("div",{className:"cart-item",children:[Object(p.jsx)("button",{className:"delete-button",onClick:i,children:"X"}),Object(p.jsx)("div",{className:"cart__title title-size",children:t}),Object(p.jsx)("div",{className:"cart__weight weight-size",children:c}),Object(p.jsxs)("div",{className:"cart__quantity-wrap",children:[Object(p.jsx)("button",{onClick:n,children:"+"}),Object(p.jsx)("div",{className:"cart__quantity quantity-size",children:a}),Object(p.jsx)("button",{onClick:s,children:"-"})]}),Object(p.jsxs)("div",{className:"cart__price price-size",children:[" ",r," \u20bd"]})]})};var W=function(){var e=Object(y.g)(),t=v(),c=t.cart,r=t.totalWeight,a=t.totalPrice,n=t.totalNumber,s=t.addQuantity,i=t.minusQuantity,o=t.deleteCartItem;return Object(p.jsxs)("div",{className:"cart",children:[Object(p.jsx)("h2",{className:"cart__header",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(p.jsxs)("div",{className:"cart__itemWrapper",children:[Object(p.jsxs)("div",{className:"cart-item cart-item--decoration",children:[Object(p.jsx)("div",{className:"cart__subtitles title-size",children:"X"}),Object(p.jsx)("div",{className:"cart__subtitles title-size",children:"\u0422\u043e\u0432\u0430\u0440"}),Object(p.jsx)("div",{className:"cart__subtitles weight-size",children:"\u0412\u0435\u0441"}),Object(p.jsx)("div",{className:"cart__subtitles quantity-size",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(p.jsx)("div",{className:"cart__subtitles price-size",children:"\u0426\u0435\u043d\u0430"})]}),c.map((function(e){return Object(p.jsx)(z,{id:e.id,title:e.title,weight:e.weight,price:e.price,image_URL:e.image_URL,quantity:e.quantity,addQuantity:function(){return s(e.id)},minusQuantity:function(){return i(e.id)},deleteCartItem:function(){return o(e.id)}},e.id)}))]}),Object(p.jsxs)("div",{className:"cart__buttons",children:[Object(p.jsxs)("div",{className:"cart__total",children:[Object(p.jsx)("div",{children:"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435: "}),Object(p.jsxs)("div",{children:[n," \u0448\u0442"]})]}),Object(p.jsxs)("div",{className:"cart__total",children:[Object(p.jsx)("div",{children:"\u041e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441: "}),Object(p.jsxs)("div",{children:[r," \u0433"]})]}),Object(p.jsxs)("div",{className:"cart__total",children:[Object(p.jsx)("div",{children:"\u0426\u0435\u043d\u0430 (\u0438\u0442\u043e\u0433\u043e): "}),Object(p.jsxs)("div",{children:[a," \u20bd"]})]})]}),0===a?Object(p.jsx)("button",{className:"cart__createOrder",onClick:function(){e.push("/")},children:"\u0414\u041e\u0411\u0410\u0412\u0418\u0422\u042c \u0422\u041e\u0412\u0410\u0420"}):Object(p.jsx)("button",{className:"cart__createOrder",onClick:function(){e.push("/delivery-info")},children:"\u041e\u0424\u041e\u0420\u041c\u0418\u0422\u042c \u0417\u0410\u041a\u0410\u0417"})]})};c(68);var H=function(){var e=Object(y.g)(),t=v(),c=t.goodiId,a=t.goodsToCart,n=t.getCatalogueItemInfo,s=t.deleteCatalogueItem,i=t.goodiInfo,o=t.userInfo;return t.currentUser,Object(r.useEffect)((function(){h&&n()}),[h]),Object(p.jsx)("div",{className:"details",children:i&&Object(p.jsxs)("div",{className:"details__wrap",children:[Object(p.jsx)("img",{className:"imagebox",src:i.url,alt:"Goodi image"}),Object(p.jsxs)("div",{className:"details__info",children:[Object(p.jsx)("h3",{className:"details__name",children:i.title}),Object(p.jsxs)("h3",{className:"details__weight",children:[i.weight," \u0433"]}),Object(p.jsxs)("h3",{className:"details__price",children:[i.price," \u0440\u0443\u0431"]}),Object(p.jsx)("br",{}),Object(p.jsx)("p",{className:"details__about",children:i.details}),o&&"admin"===o.user_role?Object(p.jsxs)("div",{children:[Object(p.jsx)("button",{type:"button",className:"details__button",onClick:function(){return s(c),void e.push("/")},children:"X - \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),Object(p.jsx)("button",{type:"button",className:"details__button",onClick:function(){return t=c,void e.push("/edit/".concat(t));var t},children:"- \u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})]}):Object(p.jsx)("button",{type:"button",className:"details__button add-to-cart",onClick:function(){return a(c,i.title,i.weight,i.price,i.url)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]})})};c(69);var K=function(){return v().getProfile,Object(p.jsx)("div",{children:"You can see orders here \\\\"})};var Z=function(){return Object(p.jsxs)("div",{children:[Object(p.jsx)("h3",{children:"Congratulations!"}),Object(p.jsx)("h2",{children:"Order created"})]})};var $=function(){var e=Object(y.g)(),t=v().createOrder;return Object(p.jsxs)("div",{children:[Object(p.jsx)("div",{children:"\u0424\u0418\u041e"}),Object(p.jsx)("div",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(p.jsx)("div",{children:"\u0413\u043e\u0440\u043e\u0434"}),Object(p.jsx)("div",{children:"\u0420\u0430\u0439\u043e\u043d"}),Object(p.jsx)("div",{children:"\u0423\u043b\u0438\u0446\u0430"}),Object(p.jsx)("div",{children:"\u0414\u043e\u043c\u0430"}),Object(p.jsx)("div",{children:"\u041f\u043e\u0434\u044a\u0435\u0437\u0434"}),Object(p.jsx)("div",{children:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"}),Object(p.jsx)("div",{children:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0442\u043e\u0447\u043a\u0443 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"}),Object(p.jsx)("button",{onClick:function(){return t(),void e.push("/confirm-order")},children:"\u0413\u043e\u0442\u043e\u0432\u043e"})]})};var ee=function(){return Object(p.jsx)(N.a,{children:Object(p.jsxs)(g,{children:[Object(p.jsx)(Q,{}),Object(p.jsxs)(y.d,{children:[Object(p.jsx)(y.b,{exact:!0,path:"/",component:M}),Object(p.jsx)(y.b,{exact:!0,path:"/goodi/:id",component:H}),Object(p.jsx)(y.b,{exact:!0,path:"/socialmedia",component:Y}),Object(p.jsx)(y.b,{path:"/cart",component:W}),Object(p.jsx)(y.b,{path:"/delivery-info",component:$}),Object(p.jsx)(y.b,{path:"/confirm-order",component:Z}),Object(p.jsx)(y.b,{path:"/login",component:w}),Object(p.jsx)(y.b,{path:"/signup",component:k}),Object(p.jsx)(y.b,{path:"/forgot-password",component:J}),Object(p.jsx)(F,{exact:!0,path:"/notifications",component:C}),Object(p.jsx)(F,{exact:!0,path:"/orders",component:K}),Object(p.jsx)(F,{exact:!0,path:"/profile",component:L}),Object(p.jsx)(F,{exact:!0,path:"/additem",component:S}),Object(p.jsx)(F,{exact:!0,path:"/edit/:id",component:I})]})]})})};s.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(ee,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.b604462c.chunk.js.map